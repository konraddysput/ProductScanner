Celem rozdziału jest przedstawienie istniejących rozwiązań chmurowych oraz bibliotek programistycznych służących do analizy obrazu. Wybranie odpowiedniego rozwiązania było najważniejszym elementem badań pracy magisterskiej. System wymaga rozpoznania przedmiotu na podstawie przesłanego zdjęcia z telefonu komórkowego. Detekcja przedmiotu oraz otrzymane dane umożliwiają otrzymanie danych wejściowych niezbędnych do przetworzenia ontologii sieci semantycznej. Zmiana wyboru przetwarzania obrazu mogłaby powodować dokonywanie inwazyjnych zmian w sposobie komunikacji poszczególnych modułów oprogramowania. Ponadto mogłaby znacząco wpłynąć na wynik wnioskowania, dzięki któremu użytkownik może wyciągnąć wnioski ze zdjęcia.

\section{Przetwarzanie obrazu w chmurze Azure} {
Usługi chmurowe proponowane przez największych dostawców, takich jak Amazon Web Services, Microsoft Azure lub Google Cloud, dostarczają zaawansowane rozwiązania z zakresu przetwarzania obrazu oraz uczenia maszynowego. Ich wybór wymaga udostępniania zdjęć koniecznych do przygotowania modelu uczenia maszynowego do serwera w chmurze oraz dokładną analizę udostępnionego interfejsu programistycznego usługodawcy. Model stworzony na podstawie obrazów musiałby być skrupulatnie przeanalizowany, ponieważ koszt przechowywania zdjęć jak i czas związany z ich analizą może spowodować zwiększenie kosztów przetwarzania danych. Jednym z celów architektów rozwiązań chmurowych jest jak największe rozbicie modelu obliczeniowego. W~przypadku projektowanego rozwiązania rosnąca liczba obrazów oraz analizowanych elementów mogłaby spowodować zbytnią złożoność systemu. 

Dokładnej analizy dostępnych usług w chmurze dokonano przy użyciu Microsoft Azure. Na jej korzyść przemawiała bardzo duża liczba dostępnych serwisów służących przetwarzaniu obrazów oraz koszty ich wykorzystania. Do grona usług, które możemy wykorzystać, należą między innymi: Computer Vision, Cognitive Service lub Custom Vision. W związku z tym przeanalizowano rozwiązanie Custom Vision. Tworzenie modelu w wybranej usłudze opierało się na przesłaniu do serwera zdjęć oraz zaznaczeniu poszukiwanego elementu na obrazie. Stworzony zbiór wejściowy następnie przechodził przez fazę "treningu". Dzięki niej kolejne zdjęcia mogły zostać poddane analizie oraz zostały uzyskane wyniki tej analizy. Programista w celu otrzymania wyników przetwarzania obrazu poza wykorzystaniem portalu Azure może wykorzystać punkty dostępowe w sieci. Dzięki temu przetwarzanie obrazu ogranicza się do wysłania żądania HTTP do serwera Azure.

Użycie chmury Azure wymusza konieczność implementacji algorytmów z~bibliotekami dostarczonymi przez usługodawcę. W przypadku braku dostępnych metod niezbędnych do rozwiązania problemu stawianego oprogramowaniu, będzie wymagana reimplementacja bardzo dużej ilości kodu. Wybrana usługa posiada możliwość klasyfikacji przedmiotów, a także została niedawno wzbogacona o możliwość ich detekcji. Ponadto wybrane rozwiązanie jest płatne. Wykorzystanie go może spowodować problemy w przypadku braku wystarczających środków na koncie. Dodatkowo, tak jak w przypadku chmury AWS lub Google Cloud, wymagane jest dokonanie szeregu formalności przez osobę, która chciałaby użyć tego rozwiązania. Wszystkie zdjęcia również są przechowywane w chmurze. Oznacza to, że użytkownik w celu uzyskania takiego samego modelu obliczeniowego i odwzorowania testów, musi dodać do chmury dużą liczbę zdjęć. 

Wykorzystanie rozwiązania nie przyniosło zamierzonych efektów. Przygotowana sieć z obrazami generowała wyniki, lecz z bardzo małą precyzją. W~tym przypadku duża liczba zdjęć przedstawiających dany produkt była wykryta z~precyzją nie przekraczającą 60\%. Brak gwarancji poprawności detekcji przedmiotu, problemy z przenoszeniem modelów oraz ewentualne koszta sprawiły, że nie wybrano rozwiązania chmurowego.

\section{Zastosowanie biblioteki CNTK}{
Firma Microsoft przygotowała otwartą bibliotekę CNTK \cite{CNTK}, która służy do rozwiązywania problemów uczenia maszynowego przy wykorzystaniu głębokich sieci neuronowych. W tym celu korzysta ze stochastycznego gradientu oraz wstecznej propagacji. Biblioteka umożliwia używanie różnych języków programowania: Python, C\#, C++ oraz działa na 64-bitowych systemach operacyjnych Linux oraz Windows. W~Internecie można znaleźć wiele przykładów korzystania z tej biblioteki, lecz jej nawiększym minusem jest brak dobrej dokumentacji. Uniemożliwiłoby to dalszą analizę komponentów niezbędnych do stworzenia przykładowego rozwiązania. Dostępne przykłady umożliwiły sprawdzenie sposobu działania biblioteki. W celu dokonania detekcji przedmiotu na obrazie, tak jak w przypadku konkurencyjnych bibliotek i usług chmurowych, należy dokonać uczenia modelu przy użyciu danych wejściowych. Niezbędne zdjęcia zaleca się opisać rekomendowanym rozwiązaniem o nazwie Visual Object Tagging Tool (VOTT)\cite{VOTT}. Dzięki niemu można wskazać klasyfikowane przedmioty na zdjęciu poprzez zaznaczenie ich prostokątem. Otrzymanym wynikiem klasyfikacji wszystkich zdjęć jest zbiór plików niezbędnych do uruchomienia algorytmu Fast R-CNN - czyli konwolucyjnej sieci neuronowej służącej do detekcji przedmiotów. Jego wynikiem jest stworzenie modelu umożliwiającego klasyfikację przedmiotu znajdującego się na obrazie. 

Biblioteka CNTK nie cieszy się dobrą opinią względem konkurencyjnej biblioteki Tensorflow. Jest to spowodowane koniecznością dalszego rozwoju, brakiem szczegółowej dokumentacji oraz złożonością tworzonego kodu. Wymienione wady spowodowały, że nie zdecydowano się na wybranie tej biblioteki do dalszego przetwarzania obrazów. 
}

\section{Zastosowanie biblioteki Tensorflow}{
Biblioteka Tensorflow \cite{Tensorflow} jest wykorzystywana do rozwiązywania problemów opartych o uczenie maszynowe. Szybkość działania oraz łatwość w dostępie do danych zawdzięcza językom C++ oraz Python. Jej twórcy sukcesywnie zwiększają liczbę dostępnych interfejsów programistycznych dla różnych środowisk uruchomieniowych. Jej podstawowym oraz najbardziej rozbudowanym interfejsem programistycznym jest kompilacja udostępniona na programy wykonane przy użyciu języka Python. Biblioteka działa w oparciu o wykorzystanie procesorów, procesorów wbudowanych, mikroprocesorów lub karty graficzne, niezależnie od architektury maszyny, na której została uruchomiona. Narzędzie jest wykorzystywane w wielu programach - między innymi do analizy zdjęć przez firmę Google w chmurze. 

Wykorzystanie biblioteki Tensorflow na systemach operacyjnych Windows z językiem Python wiąże się z koniecznością dostosowywania dostępnych pakietów za pomocą systemu zarządzania bibliotekami Anaconda \cite{Anaconda}. Domyślne narzędzie dostarczone wraz ze środowiskiem uruchomieniowym PIP generuje wiele problemów dla bibliotek, które są niezbędne do uruchomienia Tensorflow. W przypadku systemów MacOS oraz Linux nie znaleziono problemów z~instalacją biblioteki. Programista tworzący oprogramowanie na systemie Windows z wykorzystaniem Tensorflow powinien pamiętać o wielu dodatkowych wytycznych niezbędnych do uruchomienia skryptów. Do nich mogą należeć dodatkowe ścieżki środowiskowe (przykładowo: PYTHONPATH) lub konieczność uruchomienia wirtualnego środowiska narzędzia Anaconda. 

Tak jak w przypadku biblioteki CNTK oraz usługi Computer Vision w celu dokonania klasyfikacji przedmiotu wymagane jest stworzenie modelu. Możemy dokonać tego poprzez dostarczenie zdjęć z opisanymi przedmiotami. Duża społeczność zadbała o liczne narzędzia służące do wygenerowania opisów zdjęć w formacie dostosowanym do biblioteki Tensorflow. Otrzymane pliki opisowe stanowią wejście algorytmu tworzenia modelu, dzięki któremu następnie dokonywana jest klasyfikacja przedmiotów. Proces trenowania zbioru danych był znacznie dłuższy niż w przypadku usług chmurowych, ale wyniki przetwarzania obrazu dla tych samych danych wejściowych były znacznie lepsze. Dzięki temu podczas testowania rozwiązania otrzymano wyniki klasyfikacji z precyzją przekraczającą 90\%.

Interfejs programistyczny biblioteki Tensorflow zapewnił tworzenie skryptów odpowiedzialnych za detekcję przedmiotów znajdujących się na obrazie. Biblioteka ta umożliwia uzyskanie informacji o pozycji oraz klasyfikację obiektu. Dostarczona przez autorów dokumentacja usprawniła naukę sposobu jej działania oraz płynną implementację założeń projektowych. Bardzo duże środowisko programistyczne oraz duża liczba przykładów jej wykorzystania były głównymi czynnikami, którymi sugerowano się przy wyborze biblioteki. W tym celu dane niezbędne do przetwarzania reguł semantycznych zostały uzupełnione o wynik przetwarzania biblioteki Tensorflow.
}
