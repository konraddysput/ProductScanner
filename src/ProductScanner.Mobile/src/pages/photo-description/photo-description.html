<ion-header>
  <ion-toolbar>
    <ion-row>
      <ion-col col-8>
        <ion-title>
          Photo Description
        </ion-title>
      </ion-col>
      <ion-col col-4 text-right>
        <button ion-button (click)="dismiss()" clear>
          <span ion-text showWhen="ios">Cancel</span>
          <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
        </button>
      </ion-col>
    </ion-row>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <div *ngIf="photo">
    <img [src]="analysedPhotoUrl(id)">
    <ion-row>
      <ion-note style="width:100%" text-center>
        {{photo.hourAgo}}
      </ion-note>
    </ion-row>
    <div padding *ngIf="photo.photoObjects && photo.photoObjects.length > 0">
      <h4 text-center>Find <b style="color:blue">{{photo.photoObjects.length}}</b> objects!</h4>

      <ion-grid text-center>
        <!-- header -->
        <ion-row>
          <ion-col col-1>#</ion-col>
          <ion-col col-3>Name</ion-col>
          <ion-col col-2>YMin</ion-col>
          <ion-col col-2>XMin</ion-col>
          <ion-col col-2>YMax</ion-col>
          <ion-col col-2>XMax</ion-col>
        </ion-row>
        <ion-row *ngFor="let photoObject of photo.photoObjects; let i = index">
          <ion-col col-1>{{i}}</ion-col>
          <ion-col col-3>{{photoObject.category}}</ion-col>
          <ion-col col-2>{{photoObject.positionYMin}}</ion-col>
          <ion-col col-2>{{photoObject.positionXMin}}</ion-col>
          <ion-col col-2>{{photoObject.positionYMax}}</ion-col>
          <ion-col col-2>{{photoObject.positionXMax}}</ion-col>
        </ion-row>
      </ion-grid>
      <div *ngFor="let photoObject of photo.photoObjects;">
        <div padding *ngIf="photoObject.photoTypes && photoObject.photoTypes.length > 0">
          <h1>{{photoObject.category}} types</h1>
          <ion-row>
            <ion-list>
              <div *ngFor="let photoType of photoObject.photoTypes;">
                <ion-item>{{photoType.type}}</ion-item>
              </div>
            </ion-list>
          </ion-row>
        </div>

        <div padding *ngIf="photoObject.photoData && photoObject.photoData.length > 0">
            <ion-list>
              <div *ngFor="let phototData of photoObject.photoData;">
                <ion-item>{{phototData.type}} {{phototData.value}} </ion-item>
              </div>
            </ion-list>
        </div>
      </div>

    </div>



    <ion-row text-center>
      <ion-col col-6>
        <button ion-button icon-start clear small>
          <ion-icon name="trash"></ion-icon>
          <div (click)="delete()">Remove</div>
        </button>
      </ion-col>
      <ion-col col-6>
        <button ion-button icon-start clear small>
          <ion-icon name="thumbs-up"></ion-icon>
          <div (click)="dismiss()">Ok</div>
        </button>
      </ion-col>
    </ion-row>
  </div>
</ion-content>